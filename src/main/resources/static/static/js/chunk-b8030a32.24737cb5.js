(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b8030a32"],{"09ed":function(e,t,a){},"0a17":function(e,t,a){"use strict";a("d31c")},"2f14":function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));a("d81d"),a("a9e3");var i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],s=function(e){var t=e.getFullYear(),a=e.getMonth(),i=e.getDate();return{year:t,month:a,day:i}},n=function(e,t,a){return new Date(e,t,a)},r=function(e){var t;return i.map((function(){t=i[e]})),t}},3228:function(e,t,a){"use strict";a("6dc4")},6434:function(e,t,a){"use strict";a("d340")},"6dc4":function(e,t,a){},"80c7":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"Patient First Name: "}},[a("span",[e._v(e._s(t.row.firstName))])]),a("el-form-item",{attrs:{label:"Patient Last Name: "}},[a("span",[e._v(e._s(t.row.lastName))])]),a("el-form-item",{attrs:{label:"Patient Gender: "}},[1==t.row.gender?a("span",[e._v("Female")]):e._e(),2==t.row.gender?a("span",[e._v("Male")]):e._e(),3==t.row.gender?a("span",[e._v("Other")]):e._e()]),a("el-form-item",{attrs:{label:"Patient Birthdate: "}},[a("span",[e._v(e._s(t.row.dateOfBirth))])]),a("el-form-item",{attrs:{label:"Service Address: "}},[a("span",[e._v(e._s(t.row.serviceAddress))])]),a("el-form-item",{attrs:{label:"Phone Number: "}},[a("span",[e._v(e._s(t.row.patientPhone))])]),a("el-form-item",{attrs:{label:"Email: "}},[a("span",[e._v(e._s(t.row.patientEmail))])])],1)]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"firstName",label:"Patient First Name"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"serviceType",label:"Service Type"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.serviceType?a("span",[e._v("Nurse")]):e._e(),2==t.row.serviceType?a("span",[e._v("Physiotherapist")]):e._e(),3==t.row.serviceType?a("span",[e._v("Psychiatrist")]):e._e()]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"weekList",label:"weekDay"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"startTime",label:"Start Time"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"endTime",label:"End Time"}}),a("el-table-column",{attrs:{width:"120px","show-overflow-tooltip":!0,prop:"flexibleHoursPerDay",label:"Flexible Hours(per day)"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"totalDays",label:"Total Days"}}),a("el-table-column",{attrs:{width:"140px",fixed:"right",label:"Process"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return e.handleAssign(t.$index,t.row)}}},[e._v("Assign")])]}}])})],1),a("el-dialog",{attrs:{title:"The service entries",visible:e.dialogEntriesVisible},on:{"update:visible":function(t){e.dialogEntriesVisible=t}}},[a("datePicker",{ref:"myChild",staticClass:"calendar",attrs:{entriesList:e.entriesList,options:e.calendarArr},on:{handleClickDay:e.handleClickDay,handlePrevMonth:e.handlePrevMonth,handleNextMonth:e.handleNextMonth}})],1),a("el-dialog",{attrs:{title:"Add hourly rate",visible:e.dialogHourlyVisible,width:"30%"},on:{"update:visible":function(t){e.dialogHourlyVisible=t}}},[a("el-form",{ref:"hourlyForm",attrs:{rules:e.hourlyRules,model:e.hourlyForm}},[a("el-form-item",{attrs:{label:"Hourly Rate ",prop:"hourlyRate","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.hourlyForm.hourlyRate,callback:function(t){e.$set(e.hourlyForm,"hourlyRate",t)},expression:"hourlyForm.hourlyRate"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogHourlyVisible=!1}}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.hourlyConfirm}},[e._v("Confirm")])],1)],1)],1)},s=[],n=(a("ac1f"),a("5319"),a("d3b7"),a("159b"),a("1276"),a("a15b"),a("c24f")),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cc-calendar"},[a("calendarHeader",{attrs:{headOptions:e.headOptions},on:{handlePrevMonth:e.handlePrevMonth,handleNextMonth:e.handleNextMonth,handleToday:e.handleToday}}),a("ul",{staticClass:"calendar-week"},e._l(e.calendarTitleArr,(function(t,i){return a("li",{key:i,staticClass:"week-item"},[e._v(" "+e._s(t)+" ")])})),0),a("ul",{staticClass:"calendar-view"},e._l(e.visibleCalendar,(function(t,i){return a("li",{key:i,staticClass:"date-view",class:{"month-class":!e.isCurrentMonth(t.date),todayBg:e.isCurrentDay(t.date),yellow:0==t.status,green:1==t.status,red:2==t.status},on:{click:function(a){return e.handleClickDay(t)}}},[a("span",{staticClass:"date-day",class:{"opacity-class":!e.isCurrentMonth(t.date)},style:e.dayStyle},[e._v(" "+e._s(t.day)+" ")])])})),0),a("el-dialog",{attrs:{title:"Optional Healthcare Professional",visible:e.dialogAssignVisible,"append-to-body":"",width:"60%"},on:{"update:visible":function(t){e.dialogAssignVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.assignData}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"First Name: "}},[a("span",[e._v(e._s(t.row.firstName))])]),a("el-form-item",{attrs:{label:"Last Name: "}},[a("span",[e._v(e._s(t.row.lastName))])]),a("el-form-item",{attrs:{label:"Gender: "}},[1==t.row.gender?a("span",[e._v("Female")]):e._e(),2==t.row.gender?a("span",[e._v("Male")]):e._e(),3==t.row.gender?a("span",[e._v("Other")]):e._e()]),a("el-form-item",{attrs:{label:"Birthdate: "}},[a("span",[e._v(e._s(t.row.dateOfBirth))])]),a("el-form-item",{attrs:{label:"Postal Address: "}},[a("span",[e._v(e._s(t.row.postalAddress))])]),a("el-form-item",{attrs:{label:"Phone Number: "}},[a("span",[e._v(e._s(t.row.phoneNumber))])]),a("el-form-item",{attrs:{label:"Email: "}},[a("span",[e._v(e._s(t.row.email))])]),a("el-form-item",{attrs:{label:"Education Qualifications: "}},[a("span",[e._v(e._s(t.row.educationQualifications))])]),a("el-form-item",{attrs:{label:"Years of experience: "}},[a("span",[e._v(e._s(t.row.yearsExperience))])])],1)]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"firstName",label:"First Name"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"lastName",label:"Last Name"}}),a("el-table-column",{attrs:{width:"100px","show-overflow-tooltip":!0,prop:"gender",label:"Gender"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.gender?a("span",[e._v("Female")]):e._e(),2==t.row.gender?a("span",[e._v("Male")]):e._e(),3==t.row.gender?a("span",[e._v("Other")]):e._e()]}}])}),a("el-table-column",{attrs:{width:"120px","show-overflow-tooltip":!0,prop:"degree",label:"Degree"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.degree?a("span",[e._v("None")]):e._e(),1==t.row.degree?a("span",[e._v("Bachelor")]):e._e(),2==t.row.degree?a("span",[e._v("Master")]):e._e()]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"serviceType",label:"Service Type"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.serviceType?a("span",[e._v("Nurse")]):e._e(),2==t.row.serviceType?a("span",[e._v("Physiotherapist")]):e._e(),3==t.row.serviceType?a("span",[e._v("Psychiatrist")]):e._e()]}}])}),a("el-table-column",{attrs:{width:"120px","show-overflow-tooltip":!0,prop:"ssn",label:"SSN"}}),a("el-table-column",{attrs:{label:"Operation"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return e.handleAssign(t.row)}}},[e._v("Assign")])]}}])})],1)],1),a("el-dialog",{attrs:{title:"Update Hour",visible:e.dialogUpdateVisible,width:"30%","append-to-body":""},on:{"update:visible":function(t){e.dialogUpdateVisible=t}}},[a("el-form",{ref:"updateForm",attrs:{rules:e.updateRules,model:e.updateForm}},[a("el-form-item",{attrs:{label:"Start Time",prop:"startTime","label-width":e.formLabelWidth}},[a("el-time-select",{attrs:{"picker-options":{start:"06:00",step:"00:30",end:"20:00",maxTime:e.updateForm.endTime},placeholder:"StartTime"},model:{value:e.updateForm.startTime,callback:function(t){e.$set(e.updateForm,"startTime",t)},expression:"updateForm.startTime"}})],1),a("el-form-item",{staticClass:"dialog",attrs:{label:"End Time",prop:"endTime","label-width":e.formLabelWidth}},[a("el-time-select",{staticClass:"dialog",attrs:{"picker-options":{start:"06:00",step:"00:30",end:"20:00",minTime:e.updateForm.startTime},placeholder:"End Time"},model:{value:e.updateForm.endTime,callback:function(t){e.$set(e.updateForm,"endTime",t)},expression:"updateForm.endTime"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogUpdateVisible=!1}}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.updateConfirm}},[e._v("Confirm")])],1)],1)],1)},o=[],l=(a("99af"),a("09ed"),a("f94a")),c=a("2f14"),d={name:"cc-calendar",componentName:"cc-calendar",props:{options:{type:Object,default:function(){return{}}},entriesList:{type:Array,default:[]}},components:{calendarHeader:l["a"]},data:function(){var e=c["c"](new Date),t=e.year,a=e.month,i=e.day;return{headOptions:{type:this.options.type,style:this.options.headStyle,date:""},calendarTitleArr:["SUN","MON","TUE","WED","THU","FRI","SAT "],time:{year:t,month:a,day:i},calendarList:[],assignData:[],dialogAssignVisible:!1,dialogUpdateVisible:!1,serviceEntryId:"",updateForm:{startTime:"",endTime:""},updateRules:{startTime:[{required:!0,trigger:"change"}],endTime:[{required:!0,trigger:"change"}]},formLabelWidth:"120px"}},computed:{dayStyle:function(){return{textAlign:this.options.viewStyle.day}},visibleCalendar:function(){var e=this,t=[],a=c["c"](c["b"](this.time.year,this.time.month,1)),i=a.year,s=a.month,n=(a.day,c["b"](i,s,1)),r=n.getDay();0==r&&(r+=7);for(var o=n-24*r*60*60*1e3,l=42,d=0;d<l;d++)t.push({date:new Date(o+24*d*60*60*1e3),year:i,month:s+1,day:new Date(o+24*d*60*60*1e3).getDate(),clickDay:!1});return this.headOptions.date="".concat(c["a"](s)," ").concat(i),t.forEach((function(t){e.entriesList.forEach((function(a){e.getNewDate(t.date)==a.date&&(t.status=a.status,t.serviceEntryId=a.serviceEntryId,t.careRequestId=a.careRequestId,t.startTime=a.startTime)}))})),t}},methods:{getNewDate:function(e){var t=new Date(e),a=t.getFullYear(),i=t.getMonth()+1,s=t.getDate();return i<10&&(i="0"+i),s<10&&(s="0"+s),a+"-"+i+"-"+s},isCurrentMonth:function(e){var t=c["c"](c["b"](this.time.year,this.time.month,1)),a=t.year,i=t.month,s=c["c"](e),n=s.year,r=s.month;return a==n&&i==r},isCurrentDay:function(e){var t=c["c"](new Date),a=t.year,i=t.month,s=t.day,n=c["c"](e),r=n.year,o=n.month,l=n.day;return a==r&&i==o&&s==l},handlePrevMonth:function(){var e=c["b"](this.time.year,this.time.month,1);e.setMonth(e.getMonth()-1),this.time=c["c"](e),this.headOptions.date="".concat(c["a"](this.time.month)," ").concat(this.time.year),this.$emit("handlePrevMonth")},handleNextMonth:function(){var e=c["b"](this.time.year,this.time.month,1);e.setMonth(e.getMonth()+1),this.time=c["c"](e),this.headOptions.date="".concat(c["a"](this.time.month)," ").concat(this.time.year),this.$emit("handleNextMonth")},handleToday:function(){this.time=c["c"](new Date),this.$emit("handleToday")},handleClickDay:function(e){var t=this;this.$forceUpdate();var a={serviceEntryId:e.serviceEntryId,careRequestId:e.careRequestId};this.serviceEntryId=e.serviceEntryId,this.careRequestId=e.careRequestId,0==e.status?(console.log(e.startTime),null==e.startTime?this.dialogUpdateVisible=!0:(this.dialogAssignVisible=!0,Object(n["B"])(a).then((function(e){t.assignData=e})))):1==e.status&&this.$confirm("Are you sure to unassign the healthcare worker to the service entriy?","Reminder",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then((function(){Object(n["u"])(a).then((function(e){t.$message({type:"success",message:"Unassign the healthcare worker success."}),t.$emit("handleClickDay")}))})).catch((function(){t.$message({type:"info",message:"Cancelled unassign."})})),this.$set(e,"clickDay",!0)},handleAssign:function(e){var t=this,a={serviceEntryId:this.serviceEntryId,userId:e.userId};Object(n["n"])(a).then((function(e){t.$message({message:"Assign the healthcare professional success.",type:"success"}),t.dialogAssignVisible=!1,t.$emit("handleClickDay")}))},updateConfirm:function(){var e=this,t={serviceEntryId:this.serviceEntryId,startTime:this.updateForm.startTime,endTime:this.updateForm.endTime};this.$refs.updateForm.validate((function(a){a&&Object(n["e"])(t).then((function(t){e.dialogUpdateVisible=!1;var a={serviceEntryId:e.serviceEntryId,careRequestId:e.careRequestId};e.dialogAssignVisible=!0,Object(n["B"])(a).then((function(t){e.assignData=t}))}))}))}},mounted:function(){},created:function(){this.calendarList=this.visibleCalendar,this.calendarType=this.options.calendarType}},u=d,h=(a("0a17"),a("2877")),p=Object(h["a"])(u,r,o,!1,null,null,null),f=p.exports,m={data:function(){var e=function(e,t,a){t.replace(/^\d+(\.\d+)?$/,"")?a(new Error("The hourly rate must be a double number.")):a()};return{calendarArr:{type:"combination",headStyle:{todayBtn:"right",combination:"center",checkBtn:"right"},viewStyle:{day:"right"},calendarData:[]},tableData:[],entriesList:[],hourlyForm:{hourlyRate:""},dialogEntriesVisible:!1,dialogHourlyVisible:!1,careRequestId:"",careTakerId:"",flexibleHoursFlag:"",hourlyRules:{hourlyRate:[{required:!0,trigger:"blur",validator:e}]},formLabelWidth:"120px"}},mounted:function(){this.getDatatList()},components:{datePicker:f},methods:{handleClickDay:function(){var e=this;this.getDatatList();var t={careRequestId:this.careRequestId};Object(n["C"])(t).then((function(t){e.entriesList=t,e.dialogEntriesVisible=!0}))},handlePrevMonth:function(){},handleNextMonth:function(){},handleAssign:function(e,t){var a=this,i={careRequestId:t.careRequestId};this.careRequestId=t.careRequestId,this.careTakerId=t.careTakerId,this.flexibleHoursFlag=t.flexibleHoursFlag,Object(n["E"])(i).then((function(e){e?Object(n["C"])(i).then((function(e){a.entriesList=e,a.dialogEntriesVisible=!0})):a.dialogHourlyVisible=!0}))},hourlyConfirm:function(){var e=this,t={careTakerId:this.careTakerId,careRequestId:this.careRequestId,hourlyRate:this.hourlyForm.hourlyRate};this.$refs.hourlyForm.validate((function(a){a&&Object(n["c"])(t).then((function(t){if("200"==t.code){e.$message({message:"Add billing account success.",type:"success"}),e.dialogHourlyVisible=!1;var a={careRequestId:e.careRequestId};Object(n["C"])(a).then((function(t){e.entriesList=t,e.dialogEntriesVisible=!0}))}}))}))},getDatatList:function(){var e=this,t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),a={};Object(n["k"])(a).then((function(a){e.tableData=a,e.tableData.forEach((function(e){e.weekDayCopy=e.weekDay.split(","),e.weekList="",e.weekDayCopy.forEach((function(t,a){switch(t){case"0":e.weekList+="Sun. ";break;case"1":e.weekList+="Mon. ";break;case"2":e.weekList+="Tue. ";break;case"3":e.weekList+="Wed. ";break;case"4":e.weekList+="Thu. ";break;case"5":e.weekList+="Fri. ";break;case"6":e.weekList+="Sat. ";break}}))})),t.close()})).catch((function(e){console.log(e)}))},addClick:function(){this.dialogAddVisible=!0},addCancel:function(){this.dialogAddVisible=!1},addConfirm:function(){var e=this,t=this;this.$refs.loginForm.validate((function(a){if(a){var i=t.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),s=e.addForm;e.addForm.careTakerId=e.$store.state.user.userId,e.addForm.weekDay=e.addForm.weekDay.join(","),addRequest(s).then((function(e){i.close(),t.dialogAddVisible=!1,t.getDatatList(),t.$message({message:"Request for a service success, please wait for staff response!",type:"success"}),i.close()})).catch((function(a){console.log(a),i.close(),t.dialogAddVisible=!1,e.$message.error("Request failed.")}))}}))}}},y=m,b=(a("3228"),Object(h["a"])(y,i,s,!1,null,"01819580",null));t["default"]=b.exports},a15b:function(e,t,a){"use strict";var i=a("23e7"),s=a("44ad"),n=a("fc6a"),r=a("a640"),o=[].join,l=s!=Object,c=r("join",",");i({target:"Array",proto:!0,forced:l||!c},{join:function(e){return o.call(n(this),void 0===e?",":e)}})},a9e3:function(e,t,a){"use strict";var i=a("83ab"),s=a("da84"),n=a("94ca"),r=a("6eeb"),o=a("5135"),l=a("c6b6"),c=a("7156"),d=a("c04e"),u=a("d039"),h=a("7c73"),p=a("241c").f,f=a("06cf").f,m=a("9bf2").f,y=a("58a8").trim,b="Number",v=s[b],g=v.prototype,w=l(h(g))==b,_=function(e){var t,a,i,s,n,r,o,l,c=d(e,!1);if("string"==typeof c&&c.length>2)if(c=y(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:i=2,s=49;break;case 79:case 111:i=8,s=55;break;default:return+c}for(n=c.slice(2),r=n.length,o=0;o<r;o++)if(l=n.charCodeAt(o),l<48||l>s)return NaN;return parseInt(n,i)}return+c};if(n(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var k,T=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof T&&(w?u((function(){g.valueOf.call(a)})):l(a)!=b)?c(new v(_(t)),a,T):_(t)},C=i?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;C.length>I;I++)o(v,k=C[I])&&!o(T,k)&&m(T,k,f(v,k));T.prototype=g,g.constructor=T,r(s,b,T)}},d31c:function(e,t,a){},d340:function(e,t,a){},f94a:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"calendar-header clear"},["combination"==this.headOptions.type?a("div",{staticClass:"calendar-box"},[a("div",{staticClass:"calendar-content",style:{"text-align":this.headStyle.combination}},[a("span",{staticClass:"calendar-prev",on:{click:e.handlePrevMonth}}),a("span",{staticClass:"calendar-headDate"},[e._v(" "+e._s(this.headOptions.date)+" ")]),a("span",{staticClass:"calendar-next",on:{click:e.handleNextMonth}})]),a("span",{staticClass:"calendar-today",on:{click:function(t){return e.handleToday()}}},[e._v(" Today ")])]):a("div",{staticClass:"calendar-box"},[a("span",{staticClass:"calendar-headDate"},[e._v(" "+e._s(this.headOptions.date)+" ")]),a("span",{staticClass:"calendar-today dispersion-today",style:{float:this.headStyle.todayBtn},on:{click:function(t){return e.handleToday()}}},[e._v(" Today ")]),a("div",{staticClass:"calendar-content dispersion",style:{float:this.headStyle.checkBtn}},[a("span",{staticClass:"calendar-prev",on:{click:e.handlePrevMonth}}),a("span",{staticClass:"calendar-next",on:{click:e.handleNextMonth}})])])])},s=[],n={props:{headOptions:Object},data:function(){return{headStyle:""}},mounted:function(){this.headStyle=this.headOptions.style},methods:{handlePrevMonth:function(){this.$emit("handlePrevMonth")},handleNextMonth:function(){this.$emit("handleNextMonth")},handleToday:function(){this.$emit("handleToday")}}},r=n,o=(a("6434"),a("2877")),l=Object(o["a"])(r,i,s,!1,null,null,null);t["a"]=l.exports}}]);