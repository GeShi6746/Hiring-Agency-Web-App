(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-467aacac"],{"41a1":function(e,t,a){"use strict";a("9e03")},"9e03":function(e,t,a){},a15b:function(e,t,a){"use strict";var l=a("23e7"),r=a("44ad"),i=a("fc6a"),o=a("a640"),s=[].join,d=r!=Object,n=o("join",",");l({target:"Array",proto:!0,forced:d||!n},{join:function(e){return s.call(i(this),void 0===e?",":e)}})},b782:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addClick}},[e._v("Request for a service")]),a("div",{staticStyle:{height:"10px"}}),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"Patient First Name: "}},[a("span",[e._v(e._s(t.row.firstName))])]),a("el-form-item",{attrs:{label:"Patient Last Name: "}},[a("span",[e._v(e._s(t.row.lastName))])]),a("el-form-item",{attrs:{label:"Patient Gender: "}},[1==t.row.gender?a("span",[e._v("Female")]):e._e(),2==t.row.gender?a("span",[e._v("Male")]):e._e(),3==t.row.gender?a("span",[e._v("Other")]):e._e()]),a("el-form-item",{attrs:{label:"Patient Birthdate: "}},[a("span",[e._v(e._s(t.row.dateOfBirth))])]),a("el-form-item",{attrs:{label:"Service Address: "}},[a("span",[e._v(e._s(t.row.serviceAddress))])]),a("el-form-item",{attrs:{label:"Phone Number: "}},[a("span",[e._v(e._s(t.row.patientPhone))])]),a("el-form-item",{attrs:{label:"Email: "}},[a("span",[e._v(e._s(t.row.patientEmail))])]),a("el-form-item",{attrs:{label:"Specific Gender: "}},[1==t.row.genderSpecific?a("span",[e._v("Female")]):e._e(),2==t.row.genderSpecific?a("span",[e._v("Male")]):e._e(),3==t.row.genderSpecific?a("span",[e._v("Other")]):e._e(),null==t.row.genderSpecific?a("span"):e._e()]),a("el-form-item",{attrs:{label:"Lower Age Limit: "}},[a("span",[e._v(e._s(t.row.lowerAgeLimit))])]),a("el-form-item",{attrs:{label:"Upper Age Limit: "}},[a("span",[e._v(e._s(t.row.upperAgeLimit))])])],1)]}}])}),a("el-table-column",{attrs:{width:"150px","show-overflow-tooltip":!0,prop:"careRequestId",label:"Service Request ID"}}),a("el-table-column",{attrs:{width:"150px","show-overflow-tooltip":!0,prop:"firstName",label:"Patient First Name"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"serviceType",label:"Service Type"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.serviceType?a("span",[e._v("Nurse")]):e._e(),2==t.row.serviceType?a("span",[e._v("Physiotherapist")]):e._e(),3==t.row.serviceType?a("span",[e._v("Psychiatrist")]):e._e()]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"weekList",label:"Week Day"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"startTime",label:"Start Time"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"endTime",label:"End Time"}}),a("el-table-column",{attrs:{width:"120px","show-overflow-tooltip":!0,prop:"flexibleHoursPerDay",label:"Flexible Hours(per day)"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"totalDays",label:"Total Days"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"status",label:"Status"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?a("span",[e._v("Pending")]):e._e(),1==t.row.status?a("span",[e._v("Withdraw")]):e._e(),2==t.row.status?a("span",[e._v("Terminate")]):e._e()]}}])}),a("el-table-column",{attrs:{width:"120px",label:"Entry Detail"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{round:"",size:"mini",type:"success"},on:{click:function(a){return e.handleEntries(t.$index,t.row)}}},[e._v("Entries")])]}}])}),a("el-table-column",{attrs:{width:"120px",label:"Withdraw"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{round:"",size:"mini",type:"warning",disabled:0!=t.row.status},on:{click:function(a){return e.handleWithdraw(t.$index,t.row)}}},[e._v("Withdraw")])]}}])})],1),a("el-dialog",{attrs:{title:"Request a service",visible:e.dialogAddVisible,width:"80%"},on:{"update:visible":function(t){e.dialogAddVisible=t}}},[a("el-form",{ref:"loginForm",attrs:{rules:e.requestRules,model:e.addForm}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("h3",{staticStyle:{"padding-left":"60px"}},[e._v("Patient Information")]),a("el-form-item",{attrs:{label:"First Name",prop:"firstName","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"dialog",attrs:{autocomplete:"off"},model:{value:e.addForm.firstName,callback:function(t){e.$set(e.addForm,"firstName",t)},expression:"addForm.firstName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("h3",{staticStyle:{"padding-left":"40px"}},[e._v("Service Datetime Request")]),a("el-form-item",{attrs:{label:"Week Day",prop:"weekDay","label-width":e.formLabelWidth}},[a("el-select",{staticClass:"dialog",attrs:{multiple:"",placeholder:"Please select"},model:{value:e.addForm.weekDay,callback:function(t){e.$set(e.addForm,"weekDay",t)},expression:"addForm.weekDay"}},e._l(e.weekOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("h3",{staticStyle:{"padding-left":"40px"}},[e._v("Healthcare Professional Request")]),a("el-form-item",{attrs:{label:"Service Type",prop:"serviceType","label-width":e.formLabelWidth}},[a("el-select",{staticClass:"dialog",attrs:{placeholder:"Please select"},on:{change:e.ServiceTypeEvent},model:{value:e.addForm.serviceType,callback:function(t){e.$set(e.addForm,"serviceType",t)},expression:"addForm.serviceType"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Last Name",prop:"lastName","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"dialog",attrs:{autocomplete:"off"},model:{value:e.addForm.lastName,callback:function(t){e.$set(e.addForm,"lastName",t)},expression:"addForm.lastName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Start Time",prop:"startTime","label-width":e.formLabelWidth}},[a("el-time-select",{staticClass:"dialog",attrs:{disabled:e.addForm.flexibleHoursFlag,"picker-options":Object.assign({},{start:"06:00",step:"00:30"},e.endTime,{maxTime:e.addForm.endTime}),placeholder:"Please select"},model:{value:e.addForm.startTime,callback:function(t){e.$set(e.addForm,"startTime",t)},expression:"addForm.startTime"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Lower Age Limit",prop:"lowerAgeLimit","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"dialog",attrs:{autocomplete:"off"},model:{value:e.addForm.lowerAgeLimit,callback:function(t){e.$set(e.addForm,"lowerAgeLimit",t)},expression:"addForm.lowerAgeLimit"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Gender",prop:"gender","label-width":e.formLabelWidth}},[a("el-select",{staticClass:"dialog",attrs:{placeholder:"Please select"},model:{value:e.addForm.gender,callback:function(t){e.$set(e.addForm,"gender",t)},expression:"addForm.gender"}},e._l(e.genderOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"End Time",prop:"endTime","label-width":e.formLabelWidth}},[a("el-time-select",{staticClass:"dialog",attrs:{disabled:e.addForm.flexibleHoursFlag,"picker-options":Object.assign({},{start:"06:00",step:"00:30"},e.endTime,{minTime:e.addForm.startTime}),placeholder:"Please select"},model:{value:e.addForm.endTime,callback:function(t){e.$set(e.addForm,"endTime",t)},expression:"addForm.endTime"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Upper Age Limit",prop:"upperAgeLimit","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"dialog",attrs:{autocomplete:"off"},model:{value:e.addForm.upperAgeLimit,callback:function(t){e.$set(e.addForm,"upperAgeLimit",t)},expression:"addForm.upperAgeLimit"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Date of birth",prop:"dateOfBirth","label-width":e.formLabelWidth}},[a("el-date-picker",{staticClass:"dialog",attrs:{type:"date",placeholder:"Select date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.addForm.dateOfBirth,callback:function(t){e.$set(e.addForm,"dateOfBirth",t)},expression:"addForm.dateOfBirth"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Total Days",prop:"totalDays","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"dialog",attrs:{autocomplete:"off"},model:{value:e.addForm.totalDays,callback:function(t){e.$set(e.addForm,"totalDays",t)},expression:"addForm.totalDays"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Gender Request",prop:"genderSpecific","label-width":e.formLabelWidth}},[a("el-select",{staticClass:"dialog",attrs:{placeholder:"Please select"},model:{value:e.addForm.genderSpecific,callback:function(t){e.$set(e.addForm,"genderSpecific",t)},expression:"addForm.genderSpecific"}},e._l(e.genderOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Service Address",prop:"serviceAddress","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"dialog",attrs:{autocomplete:"off"},model:{value:e.addForm.serviceAddress,callback:function(t){e.$set(e.addForm,"serviceAddress",t)},expression:"addForm.serviceAddress"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Flag",prop:"flexibleHoursFlag","label-width":e.formLabelWidth}},[a("el-checkbox",{on:{change:e.flagChange},model:{value:e.addForm.flexibleHoursFlag,callback:function(t){e.$set(e.addForm,"flexibleHoursFlag",t)},expression:"addForm.flexibleHoursFlag"}},[e._v("FlexibleFlag")])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Phone Number",prop:"patientPhone","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.patientPhone,callback:function(t){e.$set(e.addForm,"patientPhone",t)},expression:"addForm.patientPhone"}}),a("span",{staticStyle:{color:"purple"}},[e._v("Format: ##########")])],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Flexible Hours Per Day",prop:"flexibleHoursPerDay","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"dialog",attrs:{disabled:!e.addForm.flexibleHoursFlag,autocomplete:"off"},model:{value:e.addForm.flexibleHoursPerDay,callback:function(t){e.$set(e.addForm,"flexibleHoursPerDay",t)},expression:"addForm.flexibleHoursPerDay"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Email",prop:"patientEmail","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"dialog",attrs:{autocomplete:"off"},model:{value:e.addForm.patientEmail,callback:function(t){e.$set(e.addForm,"patientEmail",t)},expression:"addForm.patientEmail"}}),a("span",{staticStyle:{color:"purple"}},[e._v("Format: email@domain.com")])],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.addCancel}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addConfirm}},[e._v("Confirm")])],1)],1),a("el-dialog",{attrs:{title:"Service Entries Details",visible:e.dialogEntriesVisible,width:"60%"},on:{"update:visible":function(t){e.dialogEntriesVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.entryData,border:""}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"firstName",label:"HCP First Name"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"lastName",label:"HCP Last Name"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"date",label:"Date"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"startTime",label:"Start Time"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"endTime",label:"End Time"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"status",label:"Status"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?a("span",[e._v("Unassign")]):e._e(),1==t.row.status?a("span",[e._v("Assigned")]):e._e(),2==t.row.status?a("span",[e._v("Terminate")]):e._e()]}}])})],1)],1)],1)},r=[],i=a("ade3"),o=(a("ac1f"),a("00b4"),a("d3b7"),a("159b"),a("1276"),a("a15b"),a("c24f")),s={data:function(){var e=function(e,t,a){""!=t&&10!=t.length?a(new Error("The phone number must be 10 digits")):a()},t=function(e,t,a){var l=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;""==t||l.test(t)?a():a(new Error("The email format is incorrect."))},a=function(e,t,a){var l=/^[A-Za-z]+$/;""!=t&&t.length>=2&&l.test(t)?a():a(new Error("Name must be alphabetic at least two characters."))},l=function(e,t,a){var l=/^[0-9]+([.]{1}[5]{1})?$/;""==t||l.test(t)?t>24?a(new Error("Hours cannot more than 24 hours.")):a():a(new Error("The hours must be in half."))},r=function(e,t,a){var l=/^[0-9]+$/;""==t||l.test(t)?a():a(new Error("The input must be integer."))};return{endTime:{end:"18:00"},tableData:[],entryData:[],options:[{label:"Nurse",value:"1"},{label:"Physiotherapist",value:"2"},{label:"Psychiatrist",value:"3"}],weekOptions:[{label:"Sunday",value:"0"},{label:"Monday",value:"1"},{label:"Tuesday",value:"2"},{label:"Wednesday",value:"3"},{label:"Thursday",value:"4"},{label:"Friday",value:"5"},{label:"Saturday",value:"6"}],genderOptions:[{label:"Female",value:"1"},{label:"Male",value:"2"},{label:"Other",value:"3"}],dialogAddVisible:!1,dialogEntriesVisible:!1,formLabelWidth:"180px",addForm:Object(i["a"])({firstName:"",weekDay:"",lastName:"",dateOfBirth:"",startTime:"",lowerAgeLimit:"",gender:"",endTime:"",upperAgeLimit:"",serviceAddress:"",totalDays:"",serviceType:"",patientPhone:"",flexibleHoursFlag:!1,flexibleHoursPerDay:"",genderSpecific:"",patientEmail:""},"serviceType",""),requestRules:{firstName:[{required:!0,trigger:"blur",validator:a}],weekDay:[{required:!0,trigger:"blur"}],lastName:[{required:!0,trigger:"blur",validator:a}],dateOfBirth:[{required:!0,trigger:"blur"}],gender:[{required:!0,trigger:"blur"}],serviceAddress:[{required:!0,trigger:"blur"}],serviceType:[{required:!0,trigger:"blur"}],flag:[{required:!0,trigger:"blur"}],patientPhone:[{validator:e}],patientEmail:[{validator:t}],flexibleHoursPerDay:[{validator:l}],lowerAgeLimit:[{validator:r}],upperAgeLimit:[{validator:r}],totalDays:[{required:!0,trigger:"blur",validator:r}]}}},mounted:function(){this.getDatatList()},methods:{handleEntries:function(e,t){var a=this;this.dialogEntriesVisible=!0,this.careRequestId=t.careRequestId;var l={careRequestId:this.careRequestId};Object(o["A"])(l).then((function(e){a.entryData=e})).catch((function(e){console.log(e)}))},handleWithdraw:function(e,t){var a=this,l={careRequestId:t.careRequestId};Object(o["Y"])(l).then((function(e){"200"==e.code?(a.$message({message:"Withdraw the service success.",type:"success"}),a.getDatatList()):a.$message({message:"Please pay off before withdrawing the service.",type:"error"})}))},ServiceTypeEvent:function(e){this.addForm.startTime="",this.addForm.endTime="",this.endTime={end:"18:00"},"3"==e&&(this.endTime={end:"20:00"})},flagChange:function(){this.addForm.endTime="",this.addForm.startTime=""},getDatatList:function(){var e=this,t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),a={careTakerId:this.$store.state.user.userId};Object(o["t"])(a).then((function(a){e.tableData=a,e.tableData.forEach((function(e){e.weekDayCopy=e.weekDay.split(","),e.weekList="",e.weekDayCopy.forEach((function(t,a){switch(t){case"0":e.weekList+="Sun. ";break;case"1":e.weekList+="Mon. ";break;case"2":e.weekList+="Tue. ";break;case"3":e.weekList+="Wed. ";break;case"4":e.weekList+="Thu. ";break;case"5":e.weekList+="Fri. ";break;case"6":e.weekList+="Sat. ";break}}))})),t.close(),console.log(e.tableData)})).catch((function(e){console.log(e)}))},addClick:function(){this.dialogAddVisible=!0},addCancel:function(){this.dialogAddVisible=!1},addConfirm:function(){var e=this,t=this;this.$refs.loginForm.validate((function(a){if(a){var l=t.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),r=e.addForm;e.addForm.careTakerId=e.$store.state.user.userId,e.addForm.weekDay=e.addForm.weekDay.join(","),Object(o["f"])(r).then((function(a){"200"==a.code?(l.close(),t.dialogAddVisible=!1,t.getDatatList(),t.$message({message:"Request for a service success, please wait for staff response!",type:"success"})):(l.close(),e.addForm.weekDay=e.addForm.weekDay.split(","),t.$message({message:"The paitient have been added same service during the period.",type:"warning"})),e.addForm=Object(i["a"])({firstName:"",weekDay:"",lastName:"",dateOfBirth:"",startTime:"",lowerAgeLimit:"",gender:"",endTime:"",upperAgeLimit:"",serviceAddress:"",totalDays:"",serviceType:"",patientPhone:"",flexibleHoursFlag:!1,flexibleHoursPerDay:"",genderSpecific:"",patientEmail:""},"serviceType","")})).catch((function(a){console.log(a),e.addForm=Object(i["a"])({firstName:"",weekDay:"",lastName:"",dateOfBirth:"",startTime:"",lowerAgeLimit:"",gender:"",endTime:"",upperAgeLimit:"",serviceAddress:"",totalDays:"",serviceType:"",patientPhone:"",flexibleHoursFlag:!1,flexibleHoursPerDay:"",genderSpecific:"",patientEmail:""},"serviceType",""),l.close(),t.dialogAddVisible=!1,e.$message.error("Request failed.")}))}}))}}},d=s,n=(a("41a1"),a("2877")),c=Object(n["a"])(d,l,r,!1,null,"17fafa66",null);t["default"]=c.exports}}]);